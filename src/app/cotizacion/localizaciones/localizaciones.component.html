<h2 mat-dialog-title > Localizar Cliente </h2>
<mat-dialog-content>
<form [formGroup]="filtroForm" class="form-inline" (ngSubmit)="buscarCliente()" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-bottom: 16px;">
  
  <!-- <mat-form-field appearance="outline">
    <mat-label>RFC</mat-label>
    <input matInput formControlName="rfc" placeholder="RFC del cliente">
  </mat-form-field> -->

  <mat-form-field appearance="outline">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" placeholder="Nombre del cliente">
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Estatus</mat-label>
    <mat-select formControlName="status" >
            <mat-option  [value]="1">
              Pagado
            </mat-option> 
            <mat-option  [value]="0">
              Deudor
            </mat-option>
          </mat-select>
  </mat-form-field>
<mat-form-field appearance="fill">
  <mat-label>Rango de fechas</mat-label>
  <mat-date-range-input [rangePicker]="picker">
    <input matStartDate placeholder="Fecha inicio" formControlName="fechaInicio" >
    <input matEndDate placeholder="Fecha fin" formControlName="fechaFin">
  </mat-date-range-input>
  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-date-range-picker #picker></mat-date-range-picker>
</mat-form-field>


  <button mat-raised-button color="primary" type="submit">
    Buscar
  </button>

  <button mat-raised-button color="accent" type="button" (click)="agregarNotaVenta()">
    Agregar Nota de Venta
  </button>

</form>

<div class="tabla-scroll">
<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
<ng-container *ngFor="let columna of displayedColumns; let i = index" [matColumnDef]="columna">
  <th mat-header-cell *matHeaderCellDef style="min-width: 175px;">
    {{ columnAlias[columna] }}
  </th>
  <td mat-cell *matCellDef="let element">
<ng-container *ngIf="columna === 'acciones'; else defaultCell">
  <button mat-icon-button color="primary" (click)="editarCotizacion(element.id , i)">
    <mat-icon>edit</mat-icon>
  </button>

  <button mat-icon-button color="accent" (click)="generarPDF(element.id)">
    <mat-icon>picture_as_pdf</mat-icon>
  </button>

  <button mat-icon-button color="warn" (click)="eliminarFila(element.id)">
    <mat-icon>delete</mat-icon>
  </button>
</ng-container>


    <ng-template #defaultCell>
      {{ element[columna] }}
    </ng-template>
  </td>
</ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

</div>
</mat-dialog-content>
